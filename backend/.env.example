# ============================================
# APPLICATION CONFIGURATION
# ============================================
NODE_ENV=production
APP_ENV=production
APP_PORT=4004
APP_URL=https://assets.raptoreum.com

# ============================================
# MONGODB CONFIGURATION
# ============================================
# Full URI with authentication
MONGODB_URI=mongodb://rtm_user:secure_password@localhost:27017/rtm_explorer?authSource=admin

# Individual MongoDB settings (optional if using URI)
MONGODB_HOST=localhost
MONGODB_PORT=27017
MONGODB_DATABASE=rtm_explorer
MONGODB_USER=rtm_user
MONGODB_PASSWORD=secure_password

# ============================================
# REDIS CONFIGURATION
# ============================================
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=secure_redis_password
REDIS_DB=0

# ============================================
# RAPTOREUMD (LOCAL - READ ONLY)
# ============================================
RAPTOREUMD_HOST=127.0.0.1
RAPTOREUMD_PORT=10225
RAPTOREUMD_USER=rtm_explorer
RAPTOREUMD_PASSWORD=secure_rpc_password

# ============================================
# HOT WALLET API (ASSET CREATION)
# ============================================
HOT_WALLET_API_URL=https://hwa.raptoreum.com/api/v1
HOT_WALLET_SHARED_SECRET=your_shared_secret_between_explorer_and_hotwallet
HOT_WALLET_API_TIMEOUT=30000
EXPORT_HOLDER_ADDRESS=RXxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# Enable asset tokenization for export verification
ASSET_TOKENIZATION_ENABLED=true

# ============================================
# LITECOIN (PAYMENT PROCESSING)
# ============================================
LITECOIN_RPC_HOST=127.0.0.1
LITECOIN_RPC_PORT=9332
LITECOIN_RPC_USER=ltc_user
LITECOIN_RPC_PASSWORD=secure_ltc_password
LITECOIN_RPC_ENABLED=true

# ============================================
# IPFS CONFIGURATION
# ============================================
# Enable IPFS for export uploads
IPFS_ENABLED=true
# IPFS API host and port
IPFS_HOST=127.0.0.1
IPFS_PORT=5001
# IPFS gateway URL for accessing content
IPFS_GATEWAY_URL=http://127.0.0.1:8080/ipfs/
# Local IPFS gateway (follower node following Raptoreum private cluster)
IPFS_LOCAL_GATEWAY=http://127.0.0.1:8080
# IPFS API endpoint for pinning/management
IPFS_API_URL=http://127.0.0.1:5001
# Public IPFS gateway (fallback if CID not found on local node)
IPFS_PUBLIC_GATEWAY=https://ipfs.io
# Timeout for IPFS requests in milliseconds
IPFS_TIMEOUT=10000
# Number of retry attempts for IPFS fetches
IPFS_RETRY_ATTEMPTS=3

# ============================================
# EXPORT SYSTEM CONFIGURATION
# ============================================
# Pricing
EXPORT_PRICE_USD=2.00

# Limits (configurable)
EXPORT_MAX_ASSETS=1000
EXPORT_MAX_TRANSACTIONS=10000
EXPORT_MAX_ADDRESSES=100
EXPORT_MAX_FILE_SIZE_MB=100
EXPORT_MAX_PROCESSING_TIME_SEC=600
EXPORT_RATE_LIMIT_PER_HOUR=10
EXPORT_CONCURRENT_LIMIT=3
EXPORT_QUEUE_MAX_SIZE=50

# Signing Keys (use _PATH suffix for file paths)
EXPORT_SIGNING_PRIVATE_KEY_PATH=/path/to/keys/private_key.pem
EXPORT_SIGNING_PUBLIC_KEY_PATH=/path/to/keys/public_key.pem

# Storage path for export files
EXPORT_STORAGE_PATH=./exports
# Payment variance tolerance (Â±1% = 0.01)
EXPORT_PRICE_VARIANCE=0.01
# Payment monitor check interval in milliseconds (60000 = 1 minute)
PAYMENT_CHECK_INTERVAL_MS=60000

# Passphrase for encrypted private key (RECOMMENDED)
# DO NOT store passphrase in .env file in production
# Set via system environment, pm2, or use passphrase file instead
# Before starting server: export SIGNING_KEY_PASSPHRASE='your-secure-passphrase'
SIGNING_KEY_PASSPHRASE=

# Alternative: Path to file containing passphrase (chmod 400)
# SIGNING_KEY_PASSPHRASE_FILE=/secure/signing_passphrase.txt

# ============================================
# COINGECKO API
# ============================================
COINGECKO_API_URL=https://api.coingecko.com/api/v3
COINGECKO_CACHE_TTL=300

# ============================================
# LOGGING CONFIGURATION
# ============================================
LOG_LEVEL=info
LOG_FILE_PATH=/var/log/rtm-explorer
LOG_MAX_FILES=30
LOG_MAX_SIZE=10m

# ============================================
# SECURITY & RATE LIMITING
# ============================================
# CORS
CORS_ORIGIN=https://assets.raptoreum.com
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# API Keys
API_KEY_HEADER=X-API-Key

# ============================================
# SESSION & AUTHENTICATION
# ============================================
SESSION_SECRET=your-super-secret-session-key-change-this
JWT_SECRET=your-jwt-secret-key-change-this
JWT_EXPIRATION=24h

# ============================================
# SYNC DAEMON CONFIGURATION
# ============================================
SYNC_ENABLED=true
SYNC_START_HEIGHT=0
SYNC_BATCH_SIZE=100
SYNC_CONCURRENT_BLOCKS=5
SYNC_RETRY_ATTEMPTS=3
SYNC_RETRY_DELAY=30000
SYNC_IPFS_TIMEOUT=10000
SYNC_CHECKPOINT_INTERVAL=100


